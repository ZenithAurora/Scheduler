# 手写React Schedule调度器 - 从零到一实现

## 项目概述

本项目旨在从零开始实现React的Scheduler调度器核心功能，通过逐步拆解官方源码，深入理解React任务调度的核心机制。

## 项目目标

- **学习React调度器核心原理**：深入理解React如何协调任务执行时机
- **掌握优先级调度机制**：实现不同优先级任务的智能调度
- **理解时间切片技术**：学习如何避免长时间任务阻塞主线程
- **实践最小堆数据结构**：掌握任务队列的高效管理

## 核心问题解决

调度器主要解决以下三个核心问题：

1. **任务优先级**：不同任务有不同的紧急程度，需要优先级调度
2. **时间切片**：长时间任务不能阻塞主线程，需要分片执行
3. **任务调度**：合理安排任务执行时机，优化用户体验

## 技术架构

### 核心数据结构
- **最小堆（Min-Heap）**：按照任务过期时间排序的任务队列
- **双队列系统**：taskQueue（立即执行队列）和timerQueue（延迟执行队列）

### 关键技术点
- **MessageChannel**：创建宏任务实现任务"中断"和恢复
- **时间切片**：通过`shouldYieldToHost`判断是否需要让出主线程
- **优先级系统**：5级优先级机制，从ImmediatePriority到IdlePriority

## 实现计划

按照官方Scheduler的结构，我们将代码拆分成多个模块：

### 第一阶段：基础架构
1. **优先级定义** - 定义5个优先级常量
2. **最小堆实现** - 任务队列的数据结构
3. **时间切片与时间管理** - 包括`shouldYieldToHost`和调度时间

### 第二阶段：核心调度
4. **任务调度核心** - 调度逻辑、任务队列管理
5. **延迟任务处理** - timerQueue的处理机制
6. **调度器API实现** - 如`scheduleCallback`、`cancelCallback`等

## 项目结构

```
Scheduler/
├── 000.md          # 项目总览和实现计划
├── 1.Priorities.js # 优先级定义
├── 2.MinHeap.js    # 最小堆实现
  
```
